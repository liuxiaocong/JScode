<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>跨域POST消息发送</title>
    <script type="text/JavaScript">
      // sendPost 通过postMessage实现跨域通信将表单信息发送到 moweide.gitcafe.io上,
      // 并取得返回的数据
      function sendPost() {
        var iframeWin = document.getElementById('otherPage').contentWindow;
        iframeWin.postMessage(document.getElementById('message').value, 'http://moweide.gitcafe.io');
      }    // 监听跨域请求的返回    window.addEventListener("message", function(event) {        console.log(event, event.data);    }, false);</script>
  </head>
  <body><textarea id="message"></textarea> <input type="button" value="发送" onclick="sendPost();">
    <iframe src="http://moweide.gitcafe.io/other-domain.html" id="otherPage" style="display:none"></iframe>
  </body>
</html>